@font-face{font-family:"Roboto";src:url("fonts/Roboto-Regular.ttf") format("truetype");font-weight:400;font-style:normal;font-display:swap}
@font-face{font-family:"Roboto";src:url("fonts/Roboto-Medium.ttf") format("truetype");font-weight:500;font-style:normal;font-display:swap}
@font-face{font-family:"Roboto";src:url("fonts/Roboto-Bold.ttf") format("truetype");font-weight:700;font-style:normal;font-display:swap}
@font-face{font-family:"Roboto";src:url("fonts/Roboto-Black.ttf") format("truetype");font-weight:900;font-style:normal;font-display:swap}
:root{--text:#0b0e14;--muted:rgba(11,14,20,.68);--card:rgba(255,255,255,.80);--shadow:0 18px 50px rgba(11,14,20,.10);--shadow2:0 10px 24px rgba(11,14,20,.10);--danger:#b00020}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:Roboto,system-ui,-apple-system,"Segoe UI",Arial,sans-serif;color:var(--text);-webkit-text-size-adjust:100%;background:#e9eaee;overflow-x:hidden}
.bg{position:fixed;inset:0;pointer-events:none;z-index:-1;background:radial-gradient(1200px 700px at 12% 8%, rgba(255,255,255,.95), rgba(233,234,238,.0)),radial-gradient(1200px 800px at 90% 18%, rgba(210,215,230,.55), rgba(233,234,238,.0)),radial-gradient(900px 700px at 60% 95%, rgba(255,255,255,.70), rgba(233,234,238,.0)),linear-gradient(180deg,#eef0f4,#e5e6ea 40%,#e9eaee)}
.blob{position:absolute;width:520px;height:520px;filter:blur(44px);opacity:.42;border-radius:48% 52% 60% 40% / 45% 55% 45% 55%}
.b1{left:-170px;top:-190px;background:radial-gradient(circle at 30% 30%, rgba(66,116,255,.28), rgba(255,255,255,0) 62%);animation:float1 14s ease-in-out infinite}
.b2{right:-220px;top:120px;background:radial-gradient(circle at 40% 30%, rgba(0,0,0,.12), rgba(255,255,255,0) 62%);opacity:.24;animation:float2 18s ease-in-out infinite}
.b3{left:42%;bottom:-280px;background:radial-gradient(circle at 40% 30%, rgba(120,200,255,.20), rgba(255,255,255,0) 66%);animation:float3 16s ease-in-out infinite}
@keyframes float1{0%{transform:translate(-10px,0) scale(1)}50%{transform:translate(30px,26px) scale(1.05)}100%{transform:translate(-10px,0) scale(1)}}
@keyframes float2{0%{transform:translate(0,0) scale(1)}50%{transform:translate(-26px,18px) scale(1.03)}100%{transform:translate(0,0) scale(1)}}
@keyframes float3{0%{transform:translate(0,0) scale(1)}50%{transform:translate(18px,-20px) scale(1.04)}100%{transform:translate(0,0) scale(1)}}
.grain{position:absolute;inset:0;opacity:.06;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");mix-blend-mode:multiply}
@media (prefers-reduced-motion: reduce){.blob{animation:none !important}}
input,textarea,select{-webkit-user-select:text;user-select:text;-webkit-appearance:none;font-family:inherit}
.top{max-width:980px;margin:0 auto;padding:18px 14px 10px;display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
.brand{display:flex;gap:12px;align-items:center}
.logo{width:46px;height:46px;border-radius:16px;display:grid;place-items:center;background:rgba(255,255,255,.78);border:1px solid rgba(11,14,20,.12);box-shadow:var(--shadow2);font-weight:900;letter-spacing:.6px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}
.title{font-weight:900;font-size:18px;display:flex;align-items:baseline;gap:8px}.ver{font-size:12px;color:var(--muted);font-weight:900}
.subtitle{font-size:12px;color:var(--muted);margin-top:2px}
.hdrBtns{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.wrap{max-width:980px;margin:0 auto;padding:10px 14px 40px}
.card{background:var(--card);border:1px solid rgba(255,255,255,.35);border-bottom-color:rgba(11,14,20,.10);border-right-color:rgba(11,14,20,.08);border-left-color:rgba(255,255,255,.65);border-top-color:rgba(255,255,255,.75);border-radius:24px;padding:16px;box-shadow:var(--shadow);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);margin-bottom:14px}
.cardHead{margin-bottom:12px}.rowBetween{display:flex;align-items:flex-end;justify-content:space-between;gap:12px}
h2{margin:0;font-size:18px;font-weight:900}h3{margin:0 0 6px 0;font-size:16px;font-weight:900}
.muted{color:var(--muted);font-size:13px}.hint{color:var(--muted);font-size:12px;margin-top:6px}
.form{display:flex;flex-direction:column;gap:10px}
.field label{display:block;margin:0 0 6px 2px;font-size:12px;color:var(--muted);font-weight:500}
.field input,.field select,.field textarea,.input{width:100%;background:rgba(255,255,255,.84);border:1px solid rgba(11,14,20,.14);color:var(--text);padding:12px 12px;border-radius:14px;outline:none}
.field textarea{resize:vertical}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:10px}.grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:820px){.rowBetween{flex-direction:column;align-items:stretch}}
@media (max-width:640px){.row2,.grid2{grid-template-columns:1fr}}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:4px}
.btn{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.78);color:var(--text);padding:12px 14px;border-radius:14px;font-weight:900;cursor:pointer;transition:transform 120ms ease, box-shadow 120ms ease}
.btn:active{transform:translateY(1px)}
.btn.primary{background:rgba(11,14,20,.92);color:#fff;border-color:rgba(11,14,20,.92)}
.btn.small{padding:10px 12px;font-size:12px}.btn.ghost{padding:10px 12px;font-size:12px;background:rgba(255,255,255,.55)}
.btn.dangerBtn{background:rgba(176,0,32,.08);border-color:rgba(176,0,32,.25);color:var(--danger);font-weight:900}
.more summary{cursor:pointer;font-weight:900;color:var(--text);padding:10px 0 4px}.more{border-top:1px dashed rgba(11,14,20,.18);padding-top:8px}
.pr{margin-top:8px;border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.78);border-radius:14px;padding:10px 12px;font-weight:900}
.searchRow{display:flex;gap:8px;align-items:center}.list{display:flex;flex-direction:column;gap:10px}
.item{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.76);border-radius:18px;padding:12px;display:grid;grid-template-columns:1fr auto;gap:10px}
.badge{display:inline-flex;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.74);border:1px solid rgba(11,14,20,.12);font-size:12px;font-weight:900}
.badge.no{background:rgba(176,0,32,.08);border-color:rgba(176,0,32,.25);color:var(--danger)}
.kv{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.kv span{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(11,14,20,.12);background:rgba(255,255,255,.74)}
.note{margin-top:10px;white-space:pre-wrap;color:var(--muted);font-size:13px}
.iconBtn{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.78);color:var(--text);padding:10px 12px;border-radius:14px;cursor:pointer;font-weight:900}
.chip{display:inline-flex;margin-bottom:10px;padding:8px 12px;border-radius:999px;border:1px solid rgba(11,14,20,.12);background:rgba(255,255,255,.72);font-weight:900}
.planList{display:grid;grid-template-columns:1fr;gap:10px}
.planDay{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.76);border-radius:18px;padding:12px}
.planDay.today{border-color:rgba(11,14,20,.32)}
.planDay h4{margin:0;font-size:15px;font-weight:900}.planDay .small{margin-top:6px;color:var(--muted);font-size:12px}
.planDay ul{margin:10px 0 0 18px;padding:0;font-size:13px;line-height:1.55}.planDay li{margin:4px 0}
.mini{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.76);border-radius:18px;padding:12px}
.mini.danger{border-color:rgba(176,0,32,.25)}
.charts{display:grid;grid-template-columns:1fr;gap:10px}
.chartCard{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.76);border-radius:18px;padding:12px}
.chartTitle{font-weight:900;margin-bottom:8px}
canvas{width:100%;background:rgba(255,255,255,.88);border-radius:14px;border:1px solid rgba(11,14,20,.12)}
.group{border:1px solid rgba(11,14,20,.14);background:rgba(255,255,255,.76);border-radius:18px;padding:12px}
.groupTitle{font-weight:900;margin-bottom:8px}
.planFields{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.planRow{display:grid;grid-template-columns:1.2fr 1fr auto;gap:8px;align-items:center}
.planRow .name{font-size:13px;line-height:1.3;color:var(--text);padding:10px 12px;border:1px solid rgba(11,14,20,.10);border-radius:14px;background:rgba(255,255,255,.80)}
@media (max-width:720px){.planRow{grid-template-columns:1fr}}
.customList{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.customRow{display:grid;grid-template-columns:1.2fr .9fr .7fr auto;gap:8px;align-items:center}
@media (max-width:640px){.customRow{grid-template-columns:1fr 1fr .9fr auto}}
.range{display:flex;gap:8px}
.tiles{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (min-width:760px){.tiles{grid-template-columns:1fr 1fr 1fr 1fr}}
.tile{user-select:none;-webkit-user-select:none;border:1px solid rgba(255,255,255,.55);background:rgba(255,255,255,.76);border-bottom-color:rgba(11,14,20,.10);border-radius:22px;padding:14px;box-shadow:var(--shadow2);display:flex;flex-direction:column;gap:8px;min-height:98px;position:relative;touch-action:none;will-change:transform}
.tile .ticon{font-size:26px;line-height:1}.tile .tname{font-weight:900}.tile .tdesc{font-size:12px;color:var(--muted);line-height:1.35}
.tile .handle{position:absolute;right:12px;top:10px;font-size:14px;opacity:.50;display:none}
.editMode .tile .handle{display:block}.editMode .tile{cursor:grab}
.tile.placeholder{opacity:0;pointer-events:none}
.tile.draggingFixed{box-shadow:0 26px 70px rgba(11,14,20,.18);opacity:.98;cursor:grabbing}
.panel{display:none;opacity:0;transform:translateY(10px)}
.panel.active{display:block;animation:enter .22s cubic-bezier(.2,.9,.2,1) both}
@keyframes enter{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.foot{max-width:980px;margin:0 auto;padding:0 14px 20px;text-align:center}

/* iOS Safari repaint fix during tile dragging */
body.draggingTiles .card{backdrop-filter:none !important;-webkit-backdrop-filter:none !important}
body.draggingTiles .bg .blob{animation:none !important}
.tile.draggingFixed{background:rgba(255,255,255,.96) !important;backdrop-filter:none !important;-webkit-backdrop-filter:none !important;contain:paint}


/* ===== v4.8 Dashboard Theme (dark glass) ===== */
:root{
  --bg0:#06070b;
  --bg1:#0b0f1b;
  --glass: rgba(255,255,255,.08);
  --stroke: rgba(255,255,255,.12);
  --text:#f2f4f7;
  --muted: rgba(242,244,247,.72);
  --shadow: 0 20px 60px rgba(0,0,0,.45);
  --accent:#5eead4;
  --accent2:#60a5fa;
  --warm:#fbbf24;
}

body{
  background:
    radial-gradient(900px 450px at 20% 10%, rgba(94,234,212,.16), transparent 60%),
    radial-gradient(900px 450px at 90% 40%, rgba(96,165,250,.16), transparent 60%),
    radial-gradient(800px 400px at 30% 90%, rgba(251,191,36,.10), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  color: var(--text);
}

.card, .glass{
  background: var(--glass);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.muted{ color: var(--muted) !important; }

.dash{ max-width: 980px; margin: 0 auto; padding: 8px 0 110px; }
.dashTop{ display:flex; align-items:center; justify-content:space-between; margin: 6px 2px 12px; }
.dashTitle{ font-size: 30px; font-weight: 800; letter-spacing: -0.02em; }
.dashDate{ margin-top: 4px; color: var(--muted); font-weight: 600; }

.avatarBtn{
  width: 44px; height: 44px; border-radius: 999px;
  border: 1px solid var(--stroke); background: var(--glass);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center;
}
.avatarDot{
  width: 30px; height: 30px; border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.12));
  border: 1px solid rgba(255,255,255,.18);
}

.weekStrip{
  display:flex; gap: 10px; align-items:center;
  overflow:auto; padding: 6px 2px 12px;
  scrollbar-width: none;
}
.weekStrip::-webkit-scrollbar{ display:none; }
.dayPill{
  min-width: 42px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  text-align:center;
  font-weight: 700;
}
.dayPill b{ display:block; color: var(--text); font-size: 14px; }
.dayPill span{ display:block; font-size: 11px; opacity:.8; margin-top:2px; }
.dayPill.active{
  background: rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.22);
  color: var(--text);
}

.heroCard{ padding: 18px; border-radius: 26px; }
.heroHead{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; }
.heroLabel{ font-size: 26px; font-weight: 900; letter-spacing:-.02em; }
.heroSub{ color: var(--muted); font-weight: 600; }

.heroBody{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 14px;
}
@media (max-width: 760px){
  .heroBody{ grid-template-columns: 1fr; }
}

.ringWrap{ display:flex; flex-direction:column; gap:10px; align-items:center; justify-content:center; padding: 6px; }
.ring{
  width: 240px; height: 240px; border-radius: 999px;
  background:
    conic-gradient(from 180deg, rgba(94,234,212,.95), rgba(96,165,250,.95), rgba(251,191,36,.95), rgba(94,234,212,.95));
  position: relative;
  box-shadow: 0 20px 70px rgba(0,0,0,.55);
}
.ring::after{
  content:"";
  position:absolute; inset: 12px;
  border-radius: 999px;
  background: rgba(0,0,0,.62);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.ringInner{
  position:absolute; inset: 12px;
  border-radius: 999px;
  display:flex; flex-direction:column; gap: 10px;
  align-items:center; justify-content:center;
  z-index:2;
}
.ringBig{ font-size: 30px; font-weight: 900; letter-spacing:-.02em; }
.ringSmall{ font-size: 18px; color: var(--muted); font-weight: 700; }
.ringCaption{ color: var(--muted); font-weight: 700; display:flex; align-items:center; gap:10px; }
.dot{ width:8px; height:8px; border-radius:999px; display:inline-block; background: var(--accent); box-shadow: 0 0 18px rgba(94,234,212,.7); }
.dot.g{ background: var(--accent); }

.heroBars{ padding: 10px 10px 6px; }
.barRow{ margin: 12px 0; }
.barMeta{ display:flex; gap:10px; align-items:center; color: var(--muted); font-weight: 700; }
.barMeta .ico{ width: 22px; display:inline-flex; justify-content:center; }
.barLine{
  height: 12px; border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
  margin-top: 8px;
  overflow:hidden;
}
.barFill{
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(94,234,212,.95), rgba(96,165,250,.95));
  box-shadow: 0 0 24px rgba(96,165,250,.22);
}
.barFill.warm{ background: linear-gradient(90deg, rgba(251,191,36,.95), rgba(96,165,250,.75)); }
.barFill.cool{ background: linear-gradient(90deg, rgba(96,165,250,.95), rgba(94,234,212,.75)); }

.weekly{ margin-top: 14px; padding: 16px; border-radius: 26px; }
.weeklyHead{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.weeklyTitle{ font-size: 18px; font-weight: 900; }
.weeklySub{ color: var(--muted); font-weight: 600; margin-top:4px; }
.miniGrid{ margin-top: 12px; display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
@media (max-width: 760px){ .miniGrid{ grid-template-columns: 1fr; } }

.miniCard{
  text-align:left;
  border-radius: 22px;
  padding: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
}
.miniTop{ display:flex; align-items:center; gap:10px; color: var(--muted); font-weight: 800; }
.miniVal{ margin-top: 10px; font-size: 22px; font-weight: 900; }
.spark{
  height: 34px; margin-top: 10px;
  border-radius: 14px;
  background: radial-gradient(200px 60px at 10% 50%, rgba(94,234,212,.22), transparent 60%),
              radial-gradient(200px 60px at 90% 50%, rgba(251,191,36,.16), transparent 60%),
              rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
}

.quickActions{ margin-top: 14px; }
.qaTitle{ margin: 10px 4px; color: var(--muted); font-weight: 800; }

.tiles{ display:grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
@media (max-width: 920px){ .tiles{ grid-template-columns: repeat(2, 1fr); } }
.tile{
  border-radius: 20px;
  padding: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
}
.ticon{ font-size: 22px; }
.tname{ margin-top: 8px; font-weight: 900; }
.tdesc{ margin-top: 4px; color: var(--muted); font-weight: 600; font-size: 12px; }

.bottomNav{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 16px;
  width: min(520px, calc(100% - 26px));
  height: 66px;
  border-radius: 22px;
  background: rgba(10,12,18,.58);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 22px 70px rgba(0,0,0,.55);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 10px 12px;
  z-index: 999;
}
.bnItem{
  flex:1;
  background: transparent;
  border: 0;
  color: rgba(242,244,247,.75);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 4px;
  font-weight: 800;
}
.bnItem.active{ color: var(--text); }
.bnIco{ font-size: 18px; line-height: 1; }
.bnTxt{ font-size: 10px; }

.bnAdd{
  width: 54px; height: 54px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(94,234,212,.22), rgba(96,165,250,.18));
  box-shadow: 0 18px 55px rgba(96,165,250,.20), 0 0 0 1px rgba(255,255,255,.06) inset;
  color: var(--text);
  font-size: 30px;
  line-height: 0;
  display:flex;
  align-items:center;
  justify-content:center;
}

.btn, .iconBtn{
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.14);
  color: var(--text);
}
.btn.primary{
  background: linear-gradient(90deg, rgba(94,234,212,.22), rgba(96,165,250,.22));
  border-color: rgba(255,255,255,.16);
}

.panel{ padding-bottom: 110px !important; }
